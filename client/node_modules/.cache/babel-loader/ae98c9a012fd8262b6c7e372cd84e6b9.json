{"ast":null,"code":"import _slicedToArray from\"/Volumes/Samsung_T5/Dojo_Assignments/MERN/Homework/tuesExam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{navigate,Link}from'@reach/router';import Dropdown from'react-bootstrap/Dropdown';import Button from'react-bootstrap/Button';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default(function(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),chests=_useState6[0],setChests=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phrase=_useState8[0],setPhrase=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),position=_useState10[0],setPosition=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),leg=_useState12[0],setLeg=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),patch=_useState14[0],setPatch=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),hand=_useState16[0],setHand=_useState16[1];var _useState17=useState(\"checked\"),_useState18=_slicedToArray(_useState17,2),checked1=_useState18[0],setChecked1=_useState18[1];var _useState19=useState(\"checked\"),_useState20=_slicedToArray(_useState19,2),checked2=_useState20[0],setChecked2=_useState20[1];var _useState21=useState(\"checked\"),_useState22=_slicedToArray(_useState21,2),checked3=_useState22[0],setChecked3=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),errors=_useState24[0],setErrors=_useState24[1];var _useState25=useState(true),_useState26=_slicedToArray(_useState25,2),updated=_useState26[0],setUpdated=_useState26[1];var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();console.log(patch,\"Submit\");axios.post('http://localhost:8000/api/pirate',{name:name,url:url,chests:chests,phrase:phrase,position:position,leg:leg,patch:patch,hand:hand}).then(function(res){console.log(\"Yup\",res);// props.setUpdated(true);\nnavigate('/',{state:{setUpdated:setUpdated}});}).catch(function(err){var errResponse=err.response.data.errors;var errArr=[];for(var _i=0,_Object$keys=Object.keys(errResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errArr.push(errResponse[key].message);}setErrors(errArr);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"View the Crew!\"})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,children:[errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{children:err},index);}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pirate Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUrl(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Number of chests\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setChests(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Catch Phrase\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setPhrase(e.target.value);}})]}),/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",children:\"Position\"}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(e){return setPosition(\"Captain\");},children:\" Captain\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(e){return setPosition(\"First Mate\");},children:\" First Mate\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(e){return setPosition(\"Quarter  Master\");},children:\" Quarter Master\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(e){return setPosition(\"Boatswain\");},children:\" Boatswain\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(e){return setPosition(\"Powder Monkey\");},children:\" Powder Monkey\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"PegLeg\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:checked1,onChange:function onChange(e){setLeg(!leg);setChecked1(!checked1);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Eye Patch\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:checked2,onChange:function onChange(e){setPatch(!patch);setChecked2(!checked2);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Hook for hand...\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:checked3,onChange:function onChange(e){setHand(!hand);setChecked3(!checked3);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]})]});});// (res=>setErrors(res.response.data.errors.name.message))","map":{"version":3,"sources":["/Volumes/Samsung_T5/Dojo_Assignments/MERN/Homework/tuesExam/client/src/components/New.jsx"],"names":["React","useEffect","useState","navigate","Link","Dropdown","Button","axios","props","name","setName","url","setUrl","chests","setChests","phrase","setPhrase","position","setPosition","leg","setLeg","patch","setPatch","hand","setHand","checked1","setChecked1","checked2","setChecked2","checked3","setChecked3","errors","setErrors","updated","setUpdated","onSubmitHandler","e","preventDefault","console","log","post","then","res","state","catch","err","errResponse","response","data","errArr","Object","keys","key","push","message","map","index","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { navigate, Link } from '@reach/router';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Button from 'react-bootstrap/Button';\n\nimport axios from 'axios';\n\nexport default props => {\n    const [name, setName] = useState(\"\");\n    const [url, setUrl] = useState(\"\");\n    const [chests, setChests] = useState(\"\");\n    const [phrase, setPhrase] = useState(\"\");\n    const [position, setPosition] = useState(\"\");\n    const [leg, setLeg] = useState(true);\n    const [patch, setPatch] = useState(true);\n    const [hand, setHand] = useState(true);\n    const [checked1, setChecked1] = useState(\"checked\");\n    const [checked2, setChecked2] = useState(\"checked\");\n    const [checked3, setChecked3] = useState(\"checked\");\n    const [errors, setErrors] = useState([]);\n    const [updated, setUpdated] = useState(true);\n\n    const onSubmitHandler = e => {\n        e.preventDefault();\n        console.log(patch, \"Submit\")\n        axios.post('http://localhost:8000/api/pirate', {\n            name,\n            url,\n            chests,\n            phrase,\n            position,\n            leg,\n            patch,\n            hand\n        })\n        .then(res=> {\n            console.log(\"Yup\", res)\n            // props.setUpdated(true);\n            navigate('/', {state: {setUpdated: setUpdated}});\n        })\n        .catch(err=>{\n            const errResponse = err.response.data.errors;\n            const errArr =[];\n            for (const key of Object.keys(errResponse)){\n                errArr.push(errResponse[key].message)\n            }\n            setErrors(errArr)\n        })\n        \n    }\n\n    return (\n        <>\n        <Link to=\"/\">\n            <button >\n                    <p>View the Crew!</p>\n                </button>\n        </Link>\n        \n\n        <form onSubmit={onSubmitHandler}>\n        {errors.map((err, index) => <p key={index}>{err}</p>)}\n            <p>\n                <label>Pirate Name</label>\n                <input type=\"text\" onChange={e=>setName(e.target.value)}/>\n            </p>\n            <p>\n                <label>Image URL</label>\n                <input type=\"text\" onChange={e=>setUrl(e.target.value)}/>\n            </p>\n            <p>\n                <label>Number of chests</label>\n                <input type=\"number\" onChange={e=>setChests(e.target.value)}/>\n            </p>\n            <p>\n                <label>Catch Phrase</label>\n                <input type=\"text\" onChange={e=>setPhrase(e.target.value)}/>\n            </p>\n            <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                    Position\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={e=>setPosition(\"Captain\")}> Captain</Dropdown.Item>\n                    <Dropdown.Item onClick={e=>setPosition(\"First Mate\")}> First Mate</Dropdown.Item>\n                    <Dropdown.Item onClick={e=>setPosition(\"Quarter  Master\")}> Quarter Master</Dropdown.Item>\n                    <Dropdown.Item onClick={e=>setPosition(\"Boatswain\")}> Boatswain</Dropdown.Item>\n                    <Dropdown.Item onClick={e=>setPosition(\"Powder Monkey\")}> Powder Monkey</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n            <p>\n                <label>PegLeg</label>\n                <input type=\"checkbox\" checked = {checked1} onChange={e=>{setLeg(!leg); setChecked1(!checked1)}}/>\n            </p>\n            <p>\n                <label>Eye Patch</label>\n                <input type=\"checkbox\" checked = {checked2} onChange={e=>{setPatch(!patch); setChecked2(!checked2)}}/>\n            </p>\n            <p>\n                <label>Hook for hand...</label>\n                <input type=\"checkbox\" checked = {checked3} onChange={e=>{setHand(!hand); setChecked3(!checked3)}}/>\n            </p>\n            <input type=\"submit\"/>\n        </form>\n        </>\n    )\n}\n\n// (res=>setErrors(res.response.data.errors.name.message))"]},"metadata":{},"sourceType":"module"}